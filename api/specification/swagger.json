{
  "openapi": "3.1.0",
  "info": {
      "title": "Shortener api",
      "description": "API for shortening urls",
      "version": "1.0.0"
  },
  "paths": {
      "/urls": {
          "post": {
              "tags": [
                  "UrlServices"
              ],
              "summary": "Create new shorten url",
              "description": "Create a new short url for the database. The user provides a long url, and the server generates a new shorter url",
              "parameters": [
                  {
                      "name": "original url",
                      "in": "header",
                      "required": true,
                      "description": "Original long url to shorten",
                      "schema": {
                          "type": "string"
                      }
                  },
                  {
                      "name": "shortUrl",
                      "required": true,
                      "in": "header",
                      "description": "Short url",
                      "schema": {
                          "type": "string"
                      }
                  }
              ],
              "responses": {
                  "201": {
                      "description": "created a new short url"
                  },
                  "409": {
                      "description": "short url already exists"
                  },
                  "500": {
                      "description": "intenal server error"
                  }
              }
          },
          "get": {
              "tags": [
                  "UrlServices"
              ],
              "summary": "Redirect to original url by shorter one",
              "description": "Get and redirect to the original long url, based on providing the short url of the same adress.",
              "parameters": [
                  {
                      "name": "Original url",
                      "in": "query",
                      "required": true,
                      "description": "Original url of the short url the clients asked for.",
                      "schema": {
                          "type": "string"
                      }
                  }
              ],
              "responses": {
                  "200": {
                      "description": "got long url"
                  },
                  "404": {
                      "description": "could not find url"
                  },
                  "500": {
                      "description": "intenal server error"
                  }
              }
          },
          "patch": {
              "tags": [
                  "UrlServices"
              ],
              "summary": "Update short url",
              "parameters": [
                  {
                      "name": "original url",
                      "in": "header",
                      "required": true,
                      "description": "Original long url to modify",
                      "schema": {
                          "type": "string"
                      }
                  },
                  {
                      "name": "short url",
                      "required": true,
                      "in": "header",
                      "description": "Short url",
                      "schema": {
                          "type": "string"
                      }
                  },
                  {
                      "name": "new original url",
                      "schema": {
                          "type": "string"
                      },
                      "in": "header",
                      "required": true,
                      "description": "modified short url"
                  }
              ],
              "responses": {
                  "200": {
                      "description": "modified url"
                  },
                  "404": {
                      "description": "original url or the shortned one does not exist"
                  },
                  "500": {
                      "description": "internal server error"
                  }
              }
          },
          "delete": {
              "tags": [
                  "UrlServices"
              ],
              "summary": "Delete url",
              "parameters": [
                  {
                      "name": "url id",
                      "in": "query",
                      "required": true,
                      "description": "Delete a short url based on providing the id of the same adress",
                      "schema": {
                          "type": "string"
                      }
                  }
              ],
              "responses": {
                  "200": {
                      "description": "deleted url"
                  },
                  "400": {
                      "description": "bad request"
                  }
              }
          }
      },
      "/urls/all": {
          "get": {
              "tags": [
                  "UrlServices"
              ],
              "summary": "Get all short urls",
              "responses": {
                  "200": {
                      "description": "got short url"
                  },
                  "404": {
                      "description": "could not find url"
                  },
                  "500": {
                      "description": "intenal server error"
                  }
              }
          }
      }
  },
  "components": {
      "schemas": {
          "url": {
              "required": [
                  "urlId",
                  "originUrl",
                  "shortUrl"
              ],
              "type": "object",
              "properties": {
                  "urlId": {
                      "type": "string",
                      "description": "Unique identifier for the url."
                  },
                  "originUrl": {
                      "type": "string",
                      "description": "Origina  l longer url."
                  },
                  "shortUrl": {
                      "type": "string",
                      "description": "The original url after shortening"
                  }
              }
          }
      }
  }
}